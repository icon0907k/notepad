RESTful API를 설계할 때 각 동작에 적합한 HTTP 메서드를 선택하는 것이 중요하다. 이는 명확한 커뮤니케이션과 리소스 관리 표준을 유지하여 API를 예측 가능하고 사용하기 쉽게 만들어준다.
## 1. GET 메서드 – 데이터를 조회할 때
`GET` 메서드는 데이터를 조회하는 역할을 한다. 서버 상태를 변경하지 않기 때문에 안전하며 캐시가 가능하다. 예를 들어 특정 사용자의 정보를 가져오려면 다음과 같이 요청할 수 있다.
```java
GET /members/100 HTTP/1.1
Host: example.com
```
이 요청을 보내면 서버는 ID가 `100`인 회원의 데이터를 반환한다. `GET` 메서드는 예측 가능하여 특히 캐싱이 중요한 데이터 중심의 애플리케이션에서 유용하다.

## 2. POST 메서드 – 새 리소스 생성하기
`POST`는 `GET`과 달리 서버에 데이터를 제출하여 리소스를 생성한다. 예를 들어 신규 회원을 추가할 때는 다음과 같은 요청을 보낼 수 있다.
```java
POST /members HTTP/1.1
Content-Type: application/json

{
  "username": "new_user",
  "age": 30
}
```
**POST가 멱등성이 없는 이유** : `POST` 요청을 반복할 경우 중복된 리소스가 생성될 수 있다. 이는 `PUT`과는 달리 리소스를 대체하는 것이 아니라 새로운 리소스를 생성하기 때문이다.

## 3. PUT 메서드 – 리소스 대체
`PUT`은 기존 리소스를 완전히 대체하거나 없을 경우 생성할 때 사용한다. 특정 리소스를 업데이트하고자 할 때 유용하다
```java
PUT /members/100 HTTP/1.1
Content-Type: application/json

{
  "username": "updated_user",
  "age": 40
}
```

## 4. PATCH 메서드 – 리소스 부분 수정
때로는 리소스의 일부만 수정이 필요할 수 있다. 이때 `PATCH` 메서드를 사용하면 전체 데이터를 전송하지 않고 필요한 부분만 수정할 수 있다.
```java
PATCH /members/100 HTTP/1.1
Content-Type: application/json

{
  "age": 35
}
```

## 5. DELETE 메서드 – 리소스 삭제
`DELETE`는 리소스를 삭제하는 역할을 한다. 특정 회원을 삭제하려면 다음과 같은 요청을 보낸다.
```java
DELETE /members/100 HTTP/1.1
```
`DELETE` 메서드는 멱등성이 있어 동일한 요청을 반복해도 동일한 결과가 유지된다.


## 6. 멱등성(Idempotency) 
동일한 연산을 여러 번 수행해도 결과가 변하지 않는 성질을 말한다. 멱등성은 특히 **HTTP 메서드**에서 중요한 개념으로 서버에 동일한 요청을 여러 번 보내더라도 **최종 결과가 동일**하게 유지되는지 여부를 나타낸다.
### HTTP 메서드에서의 멱등성 예시

- **GET** : 데이터를 조회하는 `GET` 요청은 여러 번 호출해도 조회하는 결과는 동일하므로 멱등성을 가진다.
- **PUT** : 데이터를 대체하는 `PUT` 요청도 멱등성을 가진다. `PUT /members/100`으로 회원 정보를 같은 내용으로 반복해서 갱신해도 최종 상태는 동일하다.
- **DELETE** : 데이터를 삭제하는 `DELETE` 요청 역시 멱등성이다. 이미 삭제된 데이터를 다시 삭제하려 해도 결과는 같기 때문이다.

반면, **POST** 메서드는 멱등성을 갖지 않는다. `POST` 요청으로 새 리소스를 생성하면 같은 요청을 반복할 때마다 새로운 리소스가 생성되므로 결과가 달라질 수 있다.

### 6.1 멱등성이 중요한 이유
멱등성은 특히 네트워크 상에서 발생할 수 있는 **타임아웃**이나 **연결 문제**를 대비해 유용하다. 요청이 중복으로 전송될 경우에도 서버의 최종 상태를 예측 가능하게 만들기 때문이다.

#### **HTTP 메서드의 속성 정리**

- **안전한 메서드** : `GET`과 같은 메서드는 서버 상태를 변경하지 않는다.
- **멱등성** : `PUT`, `DELETE`와 같은 메서드는 요청을 여러 번 반복해도 결과가 같다.
- **캐시 가능성** : `GET`은 캐시할 수 있는 메서드로 서버 부하를 줄이는 데 유용하다.

결론
적절한 HTTP 메서드를 선택하면 RESTful API를 효율적으로 설계할 수 있다. RESTful 원칙을 따르면 개발자가 명확하고 예측 가능한 API를 만들 수 있어 사용자와 개발자 모두에게 유리하다.