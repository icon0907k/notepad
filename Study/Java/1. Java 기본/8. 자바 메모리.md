## 자바 메모리 구조: 도서관 비유로 이해하기
자바 프로그래밍에서 메모리 구조를 이해하는 것은 매우 중요하다. 자바의 메모리 구조는 크게 **메서드 영역**, **스택 영역**, **힙 영역**의 세 가지로 나뉘며, 이를 도서관에 비유하여 쉽게 설명해보겠다.

### 1. 메서드 영역: 도서관의 서가
메서드 영역은 도서관의 서가와 같다. 서가에는 다양한 책들이 보관되어 있으며, 각 책은 특정 주제에 대한 정보와 내용을 담고 있다. 자바의 메서드 영역에는 다음과 같은 정보가 저장됩니다 :

- **클래스 정보** : 클래스의 실행 코드, 필드, 메서드와 생성자 코드 등 모든 실행 코드가 포함되어 있다. 이는 도서관에서 특정 주제에 대한 책을 찾는 것과 비슷한다.
- **Static 영역** : `static` 변수들이 저장된다. 이는 모든 인스턴스가 공유하는 데이터로, 도서관의 공통 서가에 비유할 수 있다.
- **런타임 상수 풀** : 프로그램 실행에 필요한 리터럴 상수들이 보관된다. 도서관에서 자주 참조되는 정보들이 모여 있는 참고서적과 같다.

### 2. 스택 영역: 독서 중인 책상

스택 영역은 독서 중인 책상이 있는 곳이다. 사용자가 책을 읽을 때마다 책상이 점점 어지러워지듯이 메서드를 호출할 때마다 스택 프레임이 쌓이다. 각 스택 프레임은 마치 책상 위에 쌓여 있는 책들처럼 다음과 같은 정보를 담고 있다 :

- **스택 프레임**: 각 메서드 호출 시 생성되는 스택 프레임은 지역 변수, 중간 연산 결과, 메서드 호출 정보 등을 포함한다. 메서드를 호출할 때마다 새로운 책이 책상에 추가되고, 메서드가 종료되면 해당 책이 책상에서 사라지는 것과 같다.

### 3. 힙 영역: 도서관의 독서 공간

힙 영역은 도서관의 독서 공간과 같다. 여기서는 사용자가 책을 대출하여 읽는 것처럼, 객체(인스턴스)와 배열이 생성된다. `new` 명령어를 사용하여 객체를 생성하며, 이 공간에서 가비지 컬렉션(GC)이 이루어진다. 더 이상 참조되지 않는 객체는 GC에 의해 제거된다.

### 요약

- **메서드 영역**: 도서관의 서가와 같이 클래스 정보와 메서드 코드를 보관하는 곳이다.
- **스택 영역**: 독서 중인 책상과 같이 메서드 호출 시 쌓이는 공간으로, 각 메서드의 실행 정보를 저장한다.
- **힙 영역**: 도서관의 독서 공간과 같이 실제 객체와 배열이 생성되는 공간이다.

자바에서 특정 클래스로 100개의 인스턴스를 생성하면, 힙 메모리에 100개의 인스턴스가 생긴다. 이 인스턴스들은 서로 다른 값을 가질 수 있지만  메서드는 공통된 코드를 공유합니다. 인스턴스 변수에는 메모리가 할당되지만 메서드는 메서드 영역에서 공통으로 관리되므로 새로운 메모리 할당은 필요 없다. 인스턴스의 메서드를 호출하면 실제로는 메서드 영역에 있는 코드를 불러서 수행하게 된다.