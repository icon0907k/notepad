# 다형성의 정의

다형성은 "하나의 인터페이스로 여러 구현을 사용할 수 있는 능력"으로 설명할 수 있다. 이는 같은 메서드 이름이 서로 다른 클래스에서 다른 방식으로 동작할 수 있게 해준다. 이러한 특징 덕분에 코드를 더 유연하고 확장 가능하게 만들어준다.

다형성을 이해하기 위해서는 크게 2가지 핵심 이론을 알아야 한다.
1. **다형적 참조**
2. **메서드 오버라이딩

# 다형적 참조
## 다형성과 캐스팅
다형성은 객체 지향 프로그래밍의 핵심 개념 중 하나로 동일한 메서드가 다른 객체에 대해 다르게 동작하는 능력을 의미한다. 다형성을 통해 코드의 유연성과 재사용성이 향상되며, 이는 주로 상속과 오버라이딩을 통해 구현된다.

캐스팅(Casting)은 객체의 타입을 변환하는 과정을 의미하며, 자바에서는 참조형 변수를 다른 타입으로 변환할 때 사용된다. 다형성과 캐스팅은 서로 밀접하게 연결되어 있다. 상위 클래스 타입의 변수를 사용해 하위 클래스 객체를 참조할 수 있는 다형적 참조는 캐스팅을 통해 구현된다.

## 캐스팅의 종류
캐스팅은 크게 두 가지 종류로 나눌 수 있다 

1. **업캐스팅(Upcasting)** : 
    - 하위 클래스 객체를 상위 클래스 타입으로 변환하는 과정이다.
    - 예를 들어, `Dog` 클래스를 `Animal` 타입으로 변환하는 것이다.
    - 업캐스팅은 항상 안전하며, 명시적인 캐스팅 없이도 가능한다.
    부모  클래스 Animal -> 자식  Dog 상속 관계 인 경우 또는 구현 관계인 경우 
``` java 
Animal myAnimal = new Dog(); // 업캐스팅
```
2. **다운캐스팅(Downcasting)** : 
	- 상위 클래스 타입을 하위 클래스 타입으로 변환하는 과정이다.
	- 다운캐스팅은 명시적인 캐스팅이 필요하며 하위 클래스 타입으로 변환할 수 있는지 확인이 필요하다. 그렇지 않으면 `ClassCastException`이 발생할 수 있다.
``` java
Dog myDog = (Dog) myAnimal; // 다운캐스팅
((Dog) myAnimal).메서드 사용 // 일시적 다운캐스팅
```
3. **ClassCastException** : 잘못된 타입으로 다운캐스팅을 시도하면 `ClassCastException`이 발생할 수 있다. 이 예외를 피하기 위해 타입 확인이 필수적이다.
    
4. **코드 가독성** : 지나치게 많은 다운캐스팅은 코드의 가독성을 떨어뜨릴 수 있다. 가능하다면 다형성의 장점을 살려 상위 클래스나 인터페이스를 사용하는 것이 좋다.
## instanceof
`instanceof`는 자바에서 객체가 특정 클래스의 인스턴스인지 확인하는 데 사용되는 연산자이다. 이 연산자를 사용하면 객체가 지정한 클래스나 그 하위 클래스의 인스턴스인지 검사할 수 있다.
``` java 
if (object instanceof ClassName) {
    // object는 ClassName 또는 그 하위 클래스의 인스턴스이다.
}
```
``` java 
class Animal {}
class Dog extends Animal {}

Animal myAnimal = new Dog();

if (myAnimal instanceof Dog) {
    System.out.println("myAnimal은 Dog 클래스의 인스턴스입니다.");
}
```

# 메서드 오버라이딩
##  메서드 오버라이딩 정의
다형성은 객체 지향 프로그래밍의 기본 원칙 중 하나이며 메서드 오버라이딩을 통해 구현된다. 메서드 오버라이딩은 하위 클래스에서 상위 클래스의 메서드를 재정의하는 것이다. 이 기능을 통해 하위 클래스는 상위 클래스의 메서드 구현을 변경하거나 확장할 수 있다.

**오버라이딩의 특징 :**
1. **메서드 이름과 매개변수가 동일해야 한다** : 오버라이딩할 때는 메서드의 이름과 매개변수 목록이 같아야 한다.
2. **접근 제어자** : 상위 클래스의 메서드보다 접근 제어자는 동일하거나 더 넓어야 한다. (예: public > protected > default > private)
3. **리턴 타입** : 오버라이딩할 때 리턴 타입은 상위 클래스의 메서드와 같거나 그 하위 타입이어야 한다.

``` java
class Animal {
    void makeSound() {
        System.out.println("Animal makes sound");
    }
}

class Dog extends Animal {
    @Override
    void makeSound() {
        System.out.println("Dog barks");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal myAnimal = new Dog();
        myAnimal.makeSound(); // "Dog barks"가 출력됩니다.
    }
}
```
이 예시에서 `Dog` 클래스는 `Animal` 클래스의 `makeSound` 메서드를 오버라이드하여 자신만의 소리를 출력한다. 다형성을 활용하여 상위 클래스 타입으로 참조되던 객체가 하위 클래스의 메서드를 호출할 수 있다.