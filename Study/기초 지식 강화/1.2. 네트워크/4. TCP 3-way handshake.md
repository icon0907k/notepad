TCP는 신뢰성 있는 데이터 전송을 보장하기 위해 사용되는 프로토콜이다. 이 프로토콜은 데이터를 주고받기 전에 3-way handshake 라는 과정을 거쳐 연결을 설정한다. 이 과정은 클라이언트와 서버 간에 연결이 안정적으로 이루어졌는지 확인하고 양쪽 모두 데이터 송수신 준비가 완료되었는지 확인하는 역할을 한다.

**이미지 자료**
![[tcp-handshake-1.png]]
출처 : https://www.flamingbytes.com/blog/tcp-3-way-handshake-syn-syn-ack-ack/

**3-way handshake 과정**
1. SYN 패킷 전송 :
    
    클라이언트가 서버에 연결 요청을 보낸다. 이때 SYN 플래그가 설정된 패킷을 전송하며 이는   "새로운 연결을 요청합니다"라는 의미이다.
    
	클라이언트는 자신이 사용할 포트 번호를 지정하고 서버가 사용할 포트 번호를 임의로 선택한다.
	 
2. SYN-ACK 패킷 전송 :
    
    서버는 클라이언트의 연결 요청을 받고 SYN-ACK 플래그가 설정된 패킷을 클라이언트에게 보낸다.
    
	이 패킷은 "클라이언트의 연결 요청을 받았으며 나도 연결을 허용한다. 클라이언트가 보낸 포트 번호를 확인했고 내가 사용할 포트 번호는 이것입니다"라는 의미이다.
    
3. ACK 패킷 전송 :
    
    클라이언트는 서버의 SYN-ACK 패킷을 받고 ACK 플래그가 설정된 패킷을 서버에게 보낸다.
    
    이 패킷은 "서버의 응답을 잘 받았습니다. 이제 연결이 완료되었으므로 데이터를 주고받을 준비가 되었습니다"라는 의미이다.

**3-way handshake의 중요성**
	1. 신뢰성 있는 연결 확립 : 양쪽 모두 연결에 동의하고 데이터 송수신 준비가 되었다는 것을 확인한다.
	2. 포트 번호 협상 : 클라이언트와 서버가 사용할 포트 번호를 결정한다.
	3. 오류 감지 : 각 단계에서 패킷이 제대로 전달되지 않으면 연결이 실패하게 된다.

**추가 설명**
SYN : 연결을 동기화하기 위한 플래그이다.
ACK : 패킷을 정상적으로 받았다는 것을 확인하는 플래그이다.

**마무리**
TCP 3-way handshake는 인터넷에서 데이터를 안전하고 신뢰성 있게 주고받을 수 있도록 하는 필수적인 과정이다. 이 과정을 통해 클라이언트와 서버는 서로 연결을 설정하고 데이터를 송수신할 준비를 마친다.